in vec2 Texcoord;

out vec4 outColor;

uniform sampler2D tex;
uniform bool drawToZ;

void main()
{
	if (drawToZ) {
		outColor = vec4(1.0, 1.0, 1.0, 1.0);
		gl_FragDepth = texture(tex, Texcoord).r;
	} else {
		outColor = texture(tex, Texcoord);
		gl_FragDepth = gl_DepthRange.far;
	}
}
